<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <title>testing</title>
  </head>
  <body>
    <header>
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand text-light">Hallo, Test</a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <style>
            .navbar-text {
              margin-right: 10px;
            }
            body {
              background-image: url("https://www.euromoslim.org/wp-content/uploads/2019/07/islamic-khana-kabah-khana-kaaba-macca-mecca-makkah-ufone-mobile-background-1920x1200.jpg");
              background-size: cover;
            }
          </style>
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <form class="form-inline my-2 my-lg-0 ml-auto">
            <span class="navbar-text"> Tambah Produk </span>
            <button
              class="btn btn-outline-danger my-2 my-sm-0"
              id="addProductBtn"
              type="button"
            >
              +
            </button>
            <span class="navbar-text"> Tampil data </span>
            <button
              class="btn btn-outline-primary my-2 my-sm-0"
              id="see"
              type="button"
            >
              <=>
            </button>
          </form>
        </div>
      </nav>
    </header>
    <main>
      <div id="formContainer"></div>
      <div id="output"></div>
    </main>
  </body>
</html>
<script>
  document
    .getElementById("addProductBtn")
    .addEventListener("click", function () {
      var formcontainer = document.getElementById("formContainer");

      var exit = document.getElementById("form");
      var formulir = `
                        <form id="form" width="50%" class="container bg-light">
                             <button
                class="btn btn-outline-danger my-2 my-sm-0 ml-auto"
                id="addBtn"
                type="button"
              >
                <--
              </button>
              <br>

        <label for ="inputGroupSelect04">Periode bulan</label>

        <div class="input-group">
          <select class="custom-select" id="inputGroupSelect04">
            <option selected>pilih periode</option>
            <option value="01 sept - 30 okt 2024">01 sept - 30 0kt 2024</option>
            <option value="01 nov - 30 des 2024">01 nov - 30 des 2024</option>
            <option value="01 jan - 30 feb 2024">01 jan - 30 feb 2024</option>
          </select>
        </div>

        <div class="form-group">
                <label for ="exampleFormControlInput1">Tanggal berangkat</label>
            <input type="date" class="form-control" id="exampleFormControlInput1">
        </div>


          <div class="form-row">
            <div class="col-md-6 mb-3">
              <label for="validationDefault01">Berangkat dari</label>
            <div class="input-group">
          <select class="custom-select" id="validationDefault01">
            <option selected>pilih keberangkatan</option>
            <option value="jakarta">Jakarta</option>
            <option value="yogyakarta">Yogjakarta</option>
            <option value="medan">medan</option>
          </select>
        </div>
            </div>
            <div class="col-md-6 mb-3">
              <label for="validationDefault02">Tujuan ke</label>
                <select class="custom-select" id="validationDefault02">
            <option selected>pilih tujuan</option>
            <option value="mekkah">Mekkah</option>
            <option value="jeddah">jeddah</option>
          </select>
            </div>
            </div>
          </div>

        <label for ="inputGroupSelect05">Paket hari</label>

        <div class="input-group">
          <select class="custom-select" id="inputGroupSelect05">
            <option selected>pilih paket</option>
            <option value="5 hari">5 hari</option>
            <option value="8 hari">8 hari</option>
            <option value="10 hari">10 hari</option>
          </select>
        </div>

        <div class="form-group">
                <label for ="exampleFormControlInput2">Tanggal Pulang</label>
            <input type="date" class="form-control" id="exampleFormControlInput2">
        </div>

        <div class="form-row">
            <div class="col-md-6 mb-3">
              <label for="validationDefault04">pulang dari</label>
            <div class="input-group">
          <select class="custom-select" id="validationDefault04">
            <option selected>pilih keberangkatan</option>
            <option value="jakarta">Jakarta</option>
            <option value="yogyakarta">Yogjakarta</option>
            <option value="medan">medan</option>
          </select>
        </div>
            </div>
            <div class="col-md-6 mb-3">
              <label for="validationDefault03">Tujuan ke</label>
                <select class="custom-select" id="validationDefault03">
            <option selected>pilih tujuan</option>
            <option value="mekkah">Mekkah</option>
            <option value="jeddah">jeddah</option>
          </select>
            </div>
            </div>
          </div>


          <label for ="inputGroupSelect22">Maskapai</label>

        <div class="input-group">
          <select class="custom-select" id="inputGroupSelect22">
            <option selected>pilih Maskapai</option>
            <option value="saudi air">saudi air</option>
            <option value="lion air">lion air</option>
            <option value="eagle">eagle</option>
          </select>
        </div>

        <div class="form-group">
                <label for ="exampleFormControlInput6">Estimasi harga tiket</label>
            <input type="text" class="form-control" id="exampleFormControlInput6">
        </div>

        <div class="form-group">
                <label for ="exampleFormControlInput7">Informasi tiket pesawat</label>
            <input type="file" class="form-control" id="exampleFormControlInput7">
        </div>

        <label for ="inputGroupSelect55">Jumlah peserta</label>
        <div class="input-group">
          <select class="custom-select" id="inputGroupSelect55">
            <option selected>Jumlah peserta</option>
            <option value="20">20</option>
            <option value="30">30</option>
            <option value="40">40</option>
          </select>
        </div>
        <br>
        <div class="card">
        <button type="button" id="next" class="btn btn-outline-primary col-md-3 ml-auto ">Selanjutnya</button>
        </div>
        <br>           </form>  `;
      formcontainer.innerHTML = formulir;
      document.getElementById("addBtn").addEventListener("click", function () {
        formcontainer.innerHTML = "";
      });

      document
        .getElementById("next")
        .addEventListener("click", function (event) {
          event.preventDefault();

          var nextform = `
                        <form id="nextform" width="50%" class="container bg-light">
                             <button
                class="btn btn-outline-danger my-2 my-sm-0 ml-auto"
                id="addBt"
                type="button"
              >
                <--
              </button>
              <br>
        <label for ="inputGroupSelect09">vendor</label>

        <div class="input-group">
          <select class="custom-select" id="inputGroupSelect09">
            <option selected>pilih vendor</option>
            <option value="Rowa">ROWA</option>
            <option value="ALbasth">Alabasth</option>
            <option value="Arej">Arej</option>
          </select>
        </div>
        <label for ="inputGroupSelect19">Hotel</label>

        <div class="input-group">
          <select class="custom-select" id="inputGroupSelect19">
            <option selected>pilih hotel bintang</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
          </select>
        </div>

         <label for ="inputGroupSelect20">Hotel madinah</label>

        <div class="input-group">
          <select class="custom-select" id="inputGroupSelect20">
            <option selected>pilih hotel </option>
            <option value="AL MOKHATARA AL GHARBI(Quad) - RP 515000">AL MOKHATARA AL GHARBI(Quad) - RP 515000</option>
            <option value="AL MOKHA AL GHARBI(Quad) - RP 500000">AL MOKHA AL GHARBI(Quad) - RP 500000</option>
            <option value="AL M AL GHARBI(Quad) - RP 615000">AL M AL GHARBI(Quad) - RP 615000</option>
          </select>
        </div>

          <div class="form-row">
            <div class="col-md-6 mb-3">
              <label for="validationDefault15">Jumlah hari</label>
            <div class="input-group">
          <select class="custom-select" id="validationDefault15">
            <option selected>pilih jumlah</option>
            <option value="5">5</option>
            <option value="10">10</option>
            <option value="15">15</option>
             <option value="20">20</option>
          </select>
        </div>
            </div>
            <div class="col-md-6 mb-3">
              <label for="validationDefault13">hotel + makan</label>
                <select class="custom-select" id="validationDefault13">
            <option selected>harga</option>
            <option value="550000">550000</option>
             <option value="150000">150000</option>
          </select>
            </div>
            </div>
          </div>
            <div class="card">
        <button id="submit" class="btn btn-outline-primary col-md-3 ml-auto ">Submit</button>
        </div>
        <br>



         </form>`;
          if (nextform) {
            var periode = document.getElementById("inputGroupSelect04").value;
            var tgl_b = document.getElementById(
              "exampleFormControlInput1"
            ).value;
            var berangkat = document.getElementById(
              "validationDefault01"
            ).value;
            var tujuan = document.getElementById("validationDefault02").value;
            var paket = document.getElementById("inputGroupSelect05").value;
            var pulang = document.getElementById(
              "exampleFormControlInput2"
            ).value;
            var tujuan2 = document.getElementById("validationDefault03").value;
            var maskapai = document.getElementById("inputGroupSelect22").value;
            var harga = document.getElementById(
              "exampleFormControlInput6"
            ).value;
            var Informasi = document.getElementById(
              "exampleFormControlInput7"
            ).value;
            var jumlah = document.getElementById("inputGroupSelect55").value;
            localStorage.setItem("periode", periode);
            localStorage.setItem("tgl_b", tgl_b);
            localStorage.setItem("berangkat", berangkat);
            localStorage.setItem("tujuan", tujuan);
            localStorage.setItem("paket", paket);
            localStorage.setItem("pulang", pulang);
            localStorage.setItem("tujuan2", tujuan2);
            localStorage.setItem("maskapai", maskapai);
            localStorage.setItem("harga", harga);
            localStorage.setItem("Informasi", Informasi);
            localStorage.setItem("jumlah", jumlah);
          }

          formcontainer.innerHTML = nextform;
          document
            .getElementById("submit")
            .addEventListener("click", function () {
              var vendor = document.getElementById("inputGroupSelect09").value;
              var hotel = document.getElementById("inputGroupSelect19").value;
              var hotel2 = document.getElementById("inputGroupSelect20").value;
              var hari = document.getElementById("validationDefault15").value;
              var hari2 = document.getElementById("validationDefault13").value;

              localStorage.setItem("vendor", vendor);
              localStorage.setItem("hotel", hotel);
              localStorage.setItem("hotel2", hotel2);
              localStorage.setItem("hari", hari);
              localStorage.setItem("hari2", hari2);

              alert("Data berhasil disimpan!");
            });
        });
    });
  document.getElementById("see").addEventListener("click", function () {
    var outputDiv = document.getElementById("output");
    var dataAvailable = localStorage.getItem("periode") !== null;

    if (!dataAvailable) {
      alert("Data belum terisi");
      return;
    }

    if (outputDiv.style.display === "none") {
      var periode = localStorage.getItem("periode");
      var tgl_b = localStorage.getItem("tgl_b");
      var berangkat = localStorage.getItem("berangkat");
      var tujuan = localStorage.getItem("tujuan");
      var paket = localStorage.getItem("paket");
      var pulang = localStorage.getItem("pulang");
      var tujuan2 = localStorage.getItem("tujuan2");
      var maskapai = localStorage.getItem("maskapai");
      var harga = localStorage.getItem("harga");
      var Informasi = localStorage.getItem("Informasi");
      var jumlah = localStorage.getItem("jumlah");

      var vendor = localStorage.getItem("vendor");
      var hotel = localStorage.getItem("hotel");
      var hotel2 = localStorage.getItem("hotel2");
      var hari = localStorage.getItem("hari");
      var hari2 = localStorage.getItem("hari2");

      var harga2 = parseInt(harga) || 0;
      var totalHari = parseInt(hari2) || 0;
      var hotel3 = parseInt(hotel2.match(/\d+/g).join(""), 10);

      var total = harga2 + hotel3 + totalHari;

      outputDiv.innerHTML = `
    <div class=" bg-light container">
          <button
              class="btn btn-outline-primary my-2 my-sm-0"
              id="pdf"
              type="button"
            >
              Print Pdf
            </button>
             <button
              class="btn btn-outline-danger my-2 my-sm-2"
              id="hapus"
              type="button"
            >
              Hapus
            </button>
          <p class="text-center"> laporan</p>
          <p>periode: ${periode}</p>
          <p>tanggal: ${tgl_b}</p>
          <p>berangkat: ${berangkat}</p>
          <p>tujuan: ${tujuan}</p>
          <p>paket: ${paket}</p>
          <p>pulang: ${pulang}</p>
          <p>tujuan: ${tujuan2}</p>
          <p>maskapai: ${maskapai}</p>
          <p>harga: ${harga}</p>
          <p>informasi: ${Informasi}</p>
          <p>jumlah: ${jumlah}</p>
          
          <p>vendor: ${vendor}</p>
                <p>hotel: bintang ${hotel}</p>
                <p>hotel: ${hotel2}</p>
                <p>Jumlah hari: ${hari} hari</p>
                <p>hotel + makan: ${hari2}</p>
                

                <hr>
                <p>Total: ${total}</p>
                

                </div>
               
          `;
      outputDiv.style.display = "block";
    } else {
      outputDiv.style.display = "none";
    }

    document.getElementById("pdf").addEventListener("click", function () {
      var periode = localStorage.getItem("periode");
      var tgl_b = localStorage.getItem("tgl_b");
      var berangkat = localStorage.getItem("berangkat");
      var tujuan = localStorage.getItem("tujuan");
      var paket = localStorage.getItem("paket");
      var pulang = localStorage.getItem("pulang");
      var tujuan2 = localStorage.getItem("tujuan2");
      var maskapai = localStorage.getItem("maskapai");
      var harga = localStorage.getItem("harga");
      var Informasi = localStorage.getItem("Informasi");
      var jumlah = localStorage.getItem("jumlah");

      var vendor = localStorage.getItem("vendor");
      var hotel = localStorage.getItem("hotel");
      var hotel2 = localStorage.getItem("hotel2");
      var hari = localStorage.getItem("hari");
      var hari2 = localStorage.getItem("hari2");

      var harga2 = parseInt(harga) || 0;
      var totalHari = parseInt(hari2) || 0;
      var hotel3 = parseInt(hotel2.match(/\d+/g).join(""), 10);

      var total = harga2 + hotel3 + totalHari;

      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      doc.text("Laporan", 10, 10);
      doc.text(`Periode : ${periode}`, 10, 20);
      doc.text(`Tanggal Berangkat: ${tgl_b}`, 10, 30);
      doc.text(`Berangkat Dari: ${berangkat}`, 10, 40);
      doc.text(`Tujuan Ke: ${tujuan}`, 10, 50);
      doc.text(`Paket Hari: ${paket}`, 10, 60);
      doc.text(`Pulang ke: ${pulang}`, 10, 70);
      doc.text(`tujuan ke: ${tujuan2}`, 10, 80);
      doc.text(`maskapai: ${maskapai}`, 10, 90);
      doc.text(`harga: ${harga}`, 10, 100);
      doc.text(`Informasi: ${Informasi}`, 95, 20);
      doc.text(`Jumlah peserta: ${jumlah}`, 95, 30);
      doc.text(`nama vendor: ${vendor}`, 95, 40);
      doc.text(`hotel bintang: ${hotel}`, 95, 50);
      doc.text(`hotel: ${hotel2}`, 95, 60);
      doc.text(`TOTAL: ${total}`, 10, 120);
      doc.save("laporan.pdf");
    });
    document.getElementById("hapus").addEventListener("click", function () {
      localStorage.clear();
      alert("Data Terhapus");
      document.getElementById("output").innerHTML = "";
    });
  });
</script>
